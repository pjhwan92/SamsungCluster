<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_73) on Thu May 11 19:25:14 KST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BlockWorkerClientServiceHandler (Alluxio Core - Server 1.3.1-SNAPSHOT API)</title>
<meta name="date" content="2017-05-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BlockWorkerClientServiceHandler (Alluxio Core - Server 1.3.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BlockWorkerClientServiceHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../alluxio/worker/block/BlockWorkerClientRestServiceHandler.html" title="class in alluxio.worker.block"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../alluxio/worker/block/ClientRWLock.html" title="class in alluxio.worker.block"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?alluxio/worker/block/BlockWorkerClientServiceHandler.html" target="_top">Frames</a></li>
<li><a href="BlockWorkerClientServiceHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">alluxio.worker.block</div>
<h2 title="Class BlockWorkerClientServiceHandler" class="title">Class BlockWorkerClientServiceHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>alluxio.worker.block.BlockWorkerClientServiceHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioService.Iface</a>, <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></dd>
</dl>
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/concurrent.NotThreadSafe.html?is-external=true" title="class or interface in javax.annotation">@NotThreadSafe</a>
public final class <span class="typeNameLabel">BlockWorkerClientServiceHandler</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></pre>
<div class="block">This class is a Thrift handler for block worker RPCs invoked by an Alluxio client.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#BlockWorkerClientServiceHandler-alluxio.worker.block.BlockWorker-">BlockWorkerClientServiceHandler</a></span>(<a href="../../../alluxio/worker/block/BlockWorker.html" title="interface in alluxio.worker.block">BlockWorker</a>&nbsp;worker)</code>
<div class="block">Creates a new instance of <a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html" title="class in alluxio.worker.block"><code>BlockWorkerClientServiceHandler</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#accessBlock-long-">accessBlock</a></span>(long&nbsp;blockId)</code>
<div class="block">This should be called whenever a client does a direct read in order to update the worker's
 components that may care about the access times of the blocks (for example, Evictor, UI).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#cacheBlock-long-long-">cacheBlock</a></span>(long&nbsp;sessionId,
          long&nbsp;blockId)</code>
<div class="block">Used to cache a block into Alluxio space, worker will move the temporary block file from
 session folder to data folder, and update the space usage information related.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#cancelBlock-long-long-">cancelBlock</a></span>(long&nbsp;sessionId,
           long&nbsp;blockId)</code>
<div class="block">Used to cancel a block which is being written.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#getServiceVersion--">getServiceVersion</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/LockBlockResult.html?is-external=true" title="class or interface in alluxio.thrift">LockBlockResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#lockBlock-long-long-">lockBlock</a></span>(long&nbsp;blockId,
         long&nbsp;sessionId)</code>
<div class="block">Locks the file in Alluxio's space while the session is reading it.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#promoteBlock-long-">promoteBlock</a></span>(long&nbsp;blockId)</code>
<div class="block">Used to promote block on under storage layer to top storage layer when there are more than one
 storage layers in Alluxio's space.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#requestBlockLocation-long-long-long-">requestBlockLocation</a></span>(long&nbsp;sessionId,
                    long&nbsp;blockId,
                    long&nbsp;initialBytes)</code>
<div class="block">Used to allocate location and space for a new coming block, worker will choose the appropriate
 storage directory which fits the initial block size by some allocation strategy.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#requestSpace-long-long-long-">requestSpace</a></span>(long&nbsp;sessionId,
            long&nbsp;blockId,
            long&nbsp;requestBytes)</code>
<div class="block">Requests space for a block.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#sessionHeartbeat-long-java.util.List-">sessionHeartbeat</a></span>(long&nbsp;sessionId,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;metrics)</code>
<div class="block">Local session send heartbeat to local worker to keep its temporary folder.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html#unlockBlock-long-long-">unlockBlock</a></span>(long&nbsp;blockId,
           long&nbsp;sessionId)</code>
<div class="block">Used to unlock a block after the block is accessed, if the block is to be removed, delete the
 block file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BlockWorkerClientServiceHandler-alluxio.worker.block.BlockWorker-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlockWorkerClientServiceHandler</h4>
<pre>public&nbsp;BlockWorkerClientServiceHandler(<a href="../../../alluxio/worker/block/BlockWorker.html" title="interface in alluxio.worker.block">BlockWorker</a>&nbsp;worker)</pre>
<div class="block">Creates a new instance of <a href="../../../alluxio/worker/block/BlockWorkerClientServiceHandler.html" title="class in alluxio.worker.block"><code>BlockWorkerClientServiceHandler</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>worker</code> - block worker handler</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getServiceVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceVersion</h4>
<pre>public&nbsp;long&nbsp;getServiceVersion()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioService.Iface.html?is-external=true#getServiceVersion--" title="class or interface in alluxio.thrift">getServiceVersion</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioService.Iface</a></code></dd>
</dl>
</li>
</ul>
<a name="accessBlock-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accessBlock</h4>
<pre>public&nbsp;void&nbsp;accessBlock(long&nbsp;blockId)
                 throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></pre>
<div class="block">This should be called whenever a client does a direct read in order to update the worker's
 components that may care about the access times of the blocks (for example, Evictor, UI).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#accessBlock-long-" title="class or interface in alluxio.thrift">accessBlock</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - the id of the block to access</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
</dl>
</li>
</ul>
<a name="cacheBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheBlock</h4>
<pre>public&nbsp;void&nbsp;cacheBlock(long&nbsp;sessionId,
                       long&nbsp;blockId)
                throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a>,
                       <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></pre>
<div class="block">Used to cache a block into Alluxio space, worker will move the temporary block file from
 session folder to data folder, and update the space usage information related. then update the
 block information to master.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#cacheBlock-long-long-" title="class or interface in alluxio.thrift">cacheBlock</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the client requesting the commit</dd>
<dd><code>blockId</code> - the id of the block to commit</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="cancelBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelBlock</h4>
<pre>public&nbsp;void&nbsp;cancelBlock(long&nbsp;sessionId,
                        long&nbsp;blockId)
                 throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a>,
                        <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></pre>
<div class="block">Used to cancel a block which is being written. worker will delete the temporary block file and
 the location and space information related, then reclaim space allocated to the block.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#cancelBlock-long-long-" title="class or interface in alluxio.thrift">cancelBlock</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the client requesting the abort</dd>
<dd><code>blockId</code> - the id of the block to be aborted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="lockBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockBlock</h4>
<pre>public&nbsp;<a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/LockBlockResult.html?is-external=true" title="class or interface in alluxio.thrift">LockBlockResult</a>&nbsp;lockBlock(long&nbsp;blockId,
                                 long&nbsp;sessionId)
                          throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></pre>
<div class="block">Locks the file in Alluxio's space while the session is reading it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#lockBlock-long-long-" title="class or interface in alluxio.thrift">lockBlock</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - the id of the block to be locked</dd>
<dd><code>sessionId</code> - the id of the session</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path of the block file locked</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
</dl>
</li>
</ul>
<a name="promoteBlock-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>promoteBlock</h4>
<pre>public&nbsp;boolean&nbsp;promoteBlock(long&nbsp;blockId)
                     throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a>,
                            <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></pre>
<div class="block">Used to promote block on under storage layer to top storage layer when there are more than one
 storage layers in Alluxio's space.
 otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#promoteBlock-long-" title="class or interface in alluxio.thrift">promoteBlock</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - the id of the block to move to the top layer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the block is successfully promoted, otherwise false</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="requestBlockLocation-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestBlockLocation</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestBlockLocation(long&nbsp;sessionId,
                                   long&nbsp;blockId,
                                   long&nbsp;initialBytes)
                            throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a>,
                                   <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></pre>
<div class="block">Used to allocate location and space for a new coming block, worker will choose the appropriate
 storage directory which fits the initial block size by some allocation strategy. If there is
 not enough space on Alluxio storage <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/exception/WorkerOutOfSpaceException.html?is-external=true" title="class or interface in alluxio.exception"><code>WorkerOutOfSpaceException</code></a> will be
 thrown, if the file is already being written by the session,
 <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/exception/FileAlreadyExistsException.html?is-external=true" title="class or interface in alluxio.exception"><code>FileAlreadyExistsException</code></a> will be thrown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#requestBlockLocation-long-long-long-" title="class or interface in alluxio.thrift">requestBlockLocation</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the client requesting the create</dd>
<dd><code>blockId</code> - the id of the new block to create</dd>
<dd><code>initialBytes</code> - the initial number of bytes to allocate for this block</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the temporary file path of the block file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="requestSpace-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestSpace</h4>
<pre>public&nbsp;boolean&nbsp;requestSpace(long&nbsp;sessionId,
                            long&nbsp;blockId,
                            long&nbsp;requestBytes)
                     throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a>,
                            <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></pre>
<div class="block">Requests space for a block.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#requestSpace-long-long-long-" title="class or interface in alluxio.thrift">requestSpace</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the client requesting space</dd>
<dd><code>blockId</code> - the id of the block to add the space to, this must be a temporary block</dd>
<dd><code>requestBytes</code> - the amount of bytes to add to the block</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the worker successfully allocates space for the block on block’s location,
         false if there is not enough space</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/ThriftIOException.html?is-external=true" title="class or interface in alluxio.thrift">ThriftIOException</a></code> - if an I/O error occurs</dd>
</dl>
</li>
</ul>
<a name="unlockBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockBlock</h4>
<pre>public&nbsp;boolean&nbsp;unlockBlock(long&nbsp;blockId,
                           long&nbsp;sessionId)
                    throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></pre>
<div class="block">Used to unlock a block after the block is accessed, if the block is to be removed, delete the
 block file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#unlockBlock-long-long-" title="class or interface in alluxio.thrift">unlockBlock</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - the id of the block to unlock</dd>
<dd><code>sessionId</code> - the id of the client requesting the unlock</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if successfully unlock the block, return false if the block is not
 found or failed to delete the block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code> - if an Alluxio error occurs</dd>
</dl>
</li>
</ul>
<a name="sessionHeartbeat-long-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sessionHeartbeat</h4>
<pre>public&nbsp;void&nbsp;sessionHeartbeat(long&nbsp;sessionId,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;metrics)
                      throws <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></pre>
<div class="block">Local session send heartbeat to local worker to keep its temporary folder.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true#sessionHeartbeat-long-java.util.List-" title="class or interface in alluxio.thrift">sessionHeartbeat</a></code>&nbsp;in interface&nbsp;<code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/BlockWorkerClientService.Iface.html?is-external=true" title="class or interface in alluxio.thrift">BlockWorkerClientService.Iface</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the client heartbeating</dd>
<dd><code>metrics</code> - deprecated</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/thrift/AlluxioTException.html?is-external=true" title="class or interface in alluxio.thrift">AlluxioTException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BlockWorkerClientServiceHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../alluxio/worker/block/BlockWorkerClientRestServiceHandler.html" title="class in alluxio.worker.block"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../alluxio/worker/block/ClientRWLock.html" title="class in alluxio.worker.block"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?alluxio/worker/block/BlockWorkerClientServiceHandler.html" target="_top">Frames</a></li>
<li><a href="BlockWorkerClientServiceHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017. All Rights Reserved.</small></p>
</body>
</html>
