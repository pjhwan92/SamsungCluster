<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_73) on Thu May 11 19:25:14 KST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractEvictor (Alluxio Core - Server 1.3.1-SNAPSHOT API)</title>
<meta name="date" content="2017-05-11">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AbstractEvictor (Alluxio Core - Server 1.3.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractEvictor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../alluxio/worker/block/evictor/BlockTransferInfo.html" title="class in alluxio.worker.block.evictor"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?alluxio/worker/block/evictor/AbstractEvictor.html" target="_top">Frames</a></li>
<li><a href="AbstractEvictor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">alluxio.worker.block.evictor</div>
<h2 title="Class AbstractEvictor" class="title">Class AbstractEvictor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html" title="class in alluxio.worker.block">alluxio.worker.block.AbstractBlockStoreEventListener</a></li>
<li>
<ul class="inheritance">
<li>alluxio.worker.block.evictor.AbstractEvictor</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../alluxio/worker/block/BlockStoreEventListener.html" title="interface in alluxio.worker.block">BlockStoreEventListener</a>, <a href="../../../../alluxio/worker/block/evictor/Evictor.html" title="interface in alluxio.worker.block.evictor">Evictor</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../alluxio/worker/block/evictor/LRFUEvictor.html" title="class in alluxio.worker.block.evictor">LRFUEvictor</a>, <a href="../../../../alluxio/worker/block/evictor/LRUEvictor.html" title="class in alluxio.worker.block.evictor">LRUEvictor</a></dd>
</dl>
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/concurrent.NotThreadSafe.html?is-external=true" title="class or interface in javax.annotation">@NotThreadSafe</a>
public abstract class <span class="typeNameLabel">AbstractEvictor</span>
extends <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html" title="class in alluxio.worker.block">AbstractBlockStoreEventListener</a>
implements <a href="../../../../alluxio/worker/block/evictor/Evictor.html" title="interface in alluxio.worker.block.evictor">Evictor</a></pre>
<div class="block">Provides the basic implementation for every evictor.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.alluxio.worker.block.evictor.Evictor">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;alluxio.worker.block.evictor.<a href="../../../../alluxio/worker/block/evictor/Evictor.html" title="interface in alluxio.worker.block.evictor">Evictor</a></h3>
<code><a href="../../../../alluxio/worker/block/evictor/Evictor.Factory.html" title="class in alluxio.worker.block.evictor">Evictor.Factory</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../alluxio/worker/block/allocator/Allocator.html" title="interface in alluxio.worker.block.allocator">Allocator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#mAllocator">mAllocator</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../alluxio/worker/block/BlockMetadataManagerView.html" title="class in alluxio.worker.block">BlockMetadataManagerView</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#mManagerView">mManagerView</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#AbstractEvictor-alluxio.worker.block.BlockMetadataManagerView-alluxio.worker.block.allocator.Allocator-">AbstractEvictor</a></span>(<a href="../../../../alluxio/worker/block/BlockMetadataManagerView.html" title="class in alluxio.worker.block">BlockMetadataManagerView</a>&nbsp;view,
               <a href="../../../../alluxio/worker/block/allocator/Allocator.html" title="interface in alluxio.worker.block.allocator">Allocator</a>&nbsp;allocator)</code>
<div class="block">Creates a new instance of <a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html" title="class in alluxio.worker.block.evictor"><code>AbstractEvictor</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../alluxio/worker/block/meta/StorageDirView.html" title="class in alluxio.worker.block.meta">StorageDirView</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#cascadingEvict-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.evictor.EvictionPlan-">cascadingEvict</a></span>(long&nbsp;bytesToBeAvailable,
              <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;location,
              <a href="../../../../alluxio/worker/block/evictor/EvictionPlan.html" title="class in alluxio.worker.block.evictor">EvictionPlan</a>&nbsp;plan)</code>
<div class="block">A recursive implementation of cascading eviction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../alluxio/worker/block/evictor/EvictionPlan.html" title="class in alluxio.worker.block.evictor">EvictionPlan</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#freeSpaceWithView-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockMetadataManagerView-">freeSpaceWithView</a></span>(long&nbsp;bytesToBeAvailable,
                 <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;location,
                 <a href="../../../../alluxio/worker/block/BlockMetadataManagerView.html" title="class in alluxio.worker.block">BlockMetadataManagerView</a>&nbsp;view)</code>
<div class="block">Frees space in the given block store location and with the given view.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#getBlockIterator--">getBlockIterator</a></span>()</code>
<div class="block">Returns an iterator for evictor cache blocks.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#onRemoveBlockFromIterator-long-">onRemoveBlockFromIterator</a></span>(long&nbsp;blockId)</code>
<div class="block">Performs additional cleanup when a block is removed from the iterator returned by
 <a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#getBlockIterator--"><code>getBlockIterator()</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#updateBlockStoreLocation-long-alluxio.worker.block.BlockStoreLocation-">updateBlockStoreLocation</a></span>(long&nbsp;bytesToBeAvailable,
                        <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;location)</code>
<div class="block">Updates the block store location if the evictor wants to free space in a specific location.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.alluxio.worker.block.AbstractBlockStoreEventListener">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;alluxio.worker.block.<a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html" title="class in alluxio.worker.block">AbstractBlockStoreEventListener</a></h3>
<code><a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onAbortBlock-long-long-">onAbortBlock</a>, <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onAccessBlock-long-long-">onAccessBlock</a>, <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onCommitBlock-long-long-alluxio.worker.block.BlockStoreLocation-">onCommitBlock</a>, <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onMoveBlockByClient-long-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockStoreLocation-">onMoveBlockByClient</a>, <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onMoveBlockByWorker-long-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockStoreLocation-">onMoveBlockByWorker</a>, <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onRemoveBlockByClient-long-long-">onRemoveBlockByClient</a>, <a href="../../../../alluxio/worker/block/AbstractBlockStoreEventListener.html#onRemoveBlockByWorker-long-long-">onRemoveBlockByWorker</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="mAllocator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mAllocator</h4>
<pre>protected final&nbsp;<a href="../../../../alluxio/worker/block/allocator/Allocator.html" title="interface in alluxio.worker.block.allocator">Allocator</a> mAllocator</pre>
</li>
</ul>
<a name="mManagerView">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mManagerView</h4>
<pre>protected&nbsp;<a href="../../../../alluxio/worker/block/BlockMetadataManagerView.html" title="class in alluxio.worker.block">BlockMetadataManagerView</a> mManagerView</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractEvictor-alluxio.worker.block.BlockMetadataManagerView-alluxio.worker.block.allocator.Allocator-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractEvictor</h4>
<pre>public&nbsp;AbstractEvictor(<a href="../../../../alluxio/worker/block/BlockMetadataManagerView.html" title="class in alluxio.worker.block">BlockMetadataManagerView</a>&nbsp;view,
                       <a href="../../../../alluxio/worker/block/allocator/Allocator.html" title="interface in alluxio.worker.block.allocator">Allocator</a>&nbsp;allocator)</pre>
<div class="block">Creates a new instance of <a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html" title="class in alluxio.worker.block.evictor"><code>AbstractEvictor</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>view</code> - a view of block metadata information</dd>
<dd><code>allocator</code> - an allocation policy</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="cascadingEvict-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.evictor.EvictionPlan-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cascadingEvict</h4>
<pre>protected&nbsp;<a href="../../../../alluxio/worker/block/meta/StorageDirView.html" title="class in alluxio.worker.block.meta">StorageDirView</a>&nbsp;cascadingEvict(long&nbsp;bytesToBeAvailable,
                                        <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;location,
                                        <a href="../../../../alluxio/worker/block/evictor/EvictionPlan.html" title="class in alluxio.worker.block.evictor">EvictionPlan</a>&nbsp;plan)</pre>
<div class="block">A recursive implementation of cascading eviction.

 This method uses a specific eviction strategy to find blocks to evict in the requested
 location. After eviction, one <a href="../../../../alluxio/worker/block/meta/StorageDir.html" title="class in alluxio.worker.block.meta"><code>StorageDir</code></a> in the location has
 the specific amount of free space. It then uses an allocation strategy to allocate space in the
 next tier to move each evicted blocks. If the next tier fails to allocate space for the evicted
 blocks, the next tier will continue to evict its blocks to free space.

 This method is only used in
 <a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#freeSpaceWithView-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockMetadataManagerView-"><code>freeSpaceWithView(long, BlockStoreLocation, BlockMetadataManagerView)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesToBeAvailable</code> - bytes to be available after eviction</dd>
<dd><code>location</code> - target location to evict blocks from</dd>
<dd><code>plan</code> - the plan to be recursively updated, is empty when first called in
        <a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#freeSpaceWithView-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockMetadataManagerView-"><code>freeSpaceWithView(long, BlockStoreLocation, BlockMetadataManagerView)</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the first <a href="../../../../alluxio/worker/block/meta/StorageDirView.html" title="class in alluxio.worker.block.meta"><code>StorageDirView</code></a> in the range of location to evict/move bytes from, or
         null if there is no plan</dd>
</dl>
</li>
</ul>
<a name="freeSpaceWithView-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockMetadataManagerView-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeSpaceWithView</h4>
<pre>public&nbsp;<a href="../../../../alluxio/worker/block/evictor/EvictionPlan.html" title="class in alluxio.worker.block.evictor">EvictionPlan</a>&nbsp;freeSpaceWithView(long&nbsp;bytesToBeAvailable,
                                      <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;location,
                                      <a href="../../../../alluxio/worker/block/BlockMetadataManagerView.html" title="class in alluxio.worker.block">BlockMetadataManagerView</a>&nbsp;view)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../alluxio/worker/block/evictor/Evictor.html#freeSpaceWithView-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockMetadataManagerView-">Evictor</a></code></span></div>
<div class="block">Frees space in the given block store location and with the given view. After eviction, at least
 one <a href="../../../../alluxio/worker/block/meta/StorageDir.html" title="class in alluxio.worker.block.meta"><code>StorageDir</code></a> in the location has the specific amount of
 free space after eviction. The location can be a specific
 <a href="../../../../alluxio/worker/block/meta/StorageDir.html" title="class in alluxio.worker.block.meta"><code>StorageDir</code></a>, or <a href="../../../../alluxio/worker/block/BlockStoreLocation.html#anyTier--"><code>BlockStoreLocation.anyTier()</code></a> or
 <a href="../../../../alluxio/worker/block/BlockStoreLocation.html#anyDirInTier-java.lang.String-"><code>BlockStoreLocation.anyDirInTier(String)</code></a>. The view is generated and passed by the
 calling <a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/worker/block.BlockStore.html?is-external=true" title="class or interface in alluxio.worker"><code>BlockStore</code></a>.
 <p>
 This method returns null if <a href="../../../../alluxio/worker/block/evictor/Evictor.html" title="interface in alluxio.worker.block.evictor"><code>Evictor</code></a> fails to propose a feasible plan to meet the
 requirement, or an eviction plan with toMove and toEvict fields to indicate how to free space.
 If both toMove and toEvict of the plan are empty, it indicates that <a href="../../../../alluxio/worker/block/evictor/Evictor.html" title="interface in alluxio.worker.block.evictor"><code>Evictor</code></a> has no
 actions to take and the requirement is already met.

 Throws an <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> if the given block location is invalid.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../alluxio/worker/block/evictor/Evictor.html#freeSpaceWithView-long-alluxio.worker.block.BlockStoreLocation-alluxio.worker.block.BlockMetadataManagerView-">freeSpaceWithView</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../alluxio/worker/block/evictor/Evictor.html" title="interface in alluxio.worker.block.evictor">Evictor</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesToBeAvailable</code> - the amount of free space in bytes to be ensured after eviction</dd>
<dd><code>location</code> - the location in block store</dd>
<dd><code>view</code> - generated and passed by block store</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <a href="../../../../alluxio/worker/block/evictor/EvictionPlan.html" title="class in alluxio.worker.block.evictor"><code>EvictionPlan</code></a> (possibly with empty fields) to get the free space, or null if
         no plan is feasible</dd>
</dl>
</li>
</ul>
<a name="getBlockIterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockIterator</h4>
<pre>protected abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;getBlockIterator()</pre>
<div class="block">Returns an iterator for evictor cache blocks. The evictor is responsible for specifying the
 iteration order using its own strategy. For example, <a href="../../../../alluxio/worker/block/evictor/LRUEvictor.html" title="class in alluxio.worker.block.evictor"><code>LRUEvictor</code></a> returns an iterator
 that iterates through the block ids in LRU order.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over the ids of the blocks in the evictor cache</dd>
</dl>
</li>
</ul>
<a name="onRemoveBlockFromIterator-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRemoveBlockFromIterator</h4>
<pre>protected&nbsp;void&nbsp;onRemoveBlockFromIterator(long&nbsp;blockId)</pre>
<div class="block">Performs additional cleanup when a block is removed from the iterator returned by
 <a href="../../../../alluxio/worker/block/evictor/AbstractEvictor.html#getBlockIterator--"><code>getBlockIterator()</code></a>.</div>
</li>
</ul>
<a name="updateBlockStoreLocation-long-alluxio.worker.block.BlockStoreLocation-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateBlockStoreLocation</h4>
<pre>protected&nbsp;<a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;updateBlockStoreLocation(long&nbsp;bytesToBeAvailable,
                                                      <a href="../../../../alluxio/worker/block/BlockStoreLocation.html" title="class in alluxio.worker.block">BlockStoreLocation</a>&nbsp;location)</pre>
<div class="block">Updates the block store location if the evictor wants to free space in a specific location. For
 example, <a href="../../../../alluxio/worker/block/evictor/PartialLRUEvictor.html" title="class in alluxio.worker.block.evictor"><code>PartialLRUEvictor</code></a> always evicts blocks from a dir with max free space.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesToBeAvailable</code> - bytes to be available after eviction</dd>
<dd><code>location</code> - the original block store location</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the updated block store location</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractEvictor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../alluxio/worker/block/evictor/BlockTransferInfo.html" title="class in alluxio.worker.block.evictor"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?alluxio/worker/block/evictor/AbstractEvictor.html" target="_top">Frames</a></li>
<li><a href="AbstractEvictor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017. All Rights Reserved.</small></p>
</body>
</html>
