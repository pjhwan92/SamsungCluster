<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_73) on Thu May 11 19:24:13 KST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>FileInStream (Alluxio Core - Client 1.3.1-SNAPSHOT API)</title>
<meta name="date" content="2017-05-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FileInStream (Alluxio Core - Client 1.3.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileInStream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../alluxio/client/file/DirectUnderStoreStreamFactory.html" title="class in alluxio.client.file"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../alluxio/client/file/FileOutStream.html" title="class in alluxio.client.file"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?alluxio/client/file/FileInStream.html" target="_top">Frames</a></li>
<li><a href="FileInStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">alluxio.client.file</div>
<h2 title="Class FileInStream" class="title">Class FileInStream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">java.io.InputStream</a></li>
<li>
<ul class="inheritance">
<li>alluxio.client.file.FileInStream</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../alluxio/client/BoundedStream.html" title="interface in alluxio.client">BoundedStream</a>, <a href="../../../alluxio/client/Seekable.html" title="interface in alluxio.client">Seekable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../alluxio/client/file/UnknownLengthFileInStream.html" title="class in alluxio.client.file">UnknownLengthFileInStream</a></dd>
</dl>
<hr>
<br>
<pre><a href="http://alluxio.org/alluxio-core/alluxio-core-common/apidocs/alluxio/annotation/PublicApi.html?is-external=true" title="class or interface in alluxio.annotation">@PublicApi</a>
 <a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/concurrent.NotThreadSafe.html?is-external=true" title="class or interface in javax.annotation">@NotThreadSafe</a>
public class <span class="typeNameLabel">FileInStream</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>
implements <a href="../../../alluxio/client/BoundedStream.html" title="interface in alluxio.client">BoundedStream</a>, <a href="../../../alluxio/client/Seekable.html" title="interface in alluxio.client">Seekable</a></pre>
<div class="block">A streaming API to read a file. This API represents a file as a stream of bytes and provides a
 collection of <a href="../../../alluxio/client/file/FileInStream.html#read--"><code>read()</code></a> methods to access this stream of bytes. In addition, one can seek
 into a given offset of the stream to read.
 <p>
 This class wraps the <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block"><code>BlockInStream</code></a> for each of the blocks in the file and abstracts the
 switching between streams. The backing streams can read from Alluxio space in the local machine,
 remote machines, or the under storage system.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/AlluxioStorageType.html" title="enum in alluxio.client">AlluxioStorageType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mAlluxioStorageType">mAlluxioStorageType</a></span></code>
<div class="block">How the data should be written into Alluxio space, if at all.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mBlockSize">mBlockSize</a></span></code>
<div class="block">Standard block size in bytes of the file, guaranteed for all but the last block.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mClosed">mClosed</a></span></code>
<div class="block">If the stream is closed, this can only go from false to true.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mContext">mContext</a></span></code>
<div class="block">File System context containing the <a href="../../../alluxio/client/file/FileSystemMasterClient.html" title="class in alluxio.client.file"><code>FileSystemMasterClient</code></a> pool.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block">BlockInStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mCurrentBlockInStream">mCurrentBlockInStream</a></span></code>
<div class="block">Current <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block"><code>BlockInStream</code></a> backing this stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/block/BufferedBlockOutStream.html" title="class in alluxio.client.block">BufferedBlockOutStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mCurrentCacheStream">mCurrentCacheStream</a></span></code>
<div class="block">Current <a href="../../../alluxio/client/block/BufferedBlockOutStream.html" title="class in alluxio.client.block"><code>BufferedBlockOutStream</code></a> writing the data into Alluxio.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mFileLength">mFileLength</a></span></code>
<div class="block">Total length of the file in bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/file/policy/FileWriteLocationPolicy.html" title="interface in alluxio.client.file.policy">FileWriteLocationPolicy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mLocationPolicy">mLocationPolicy</a></span></code>
<div class="block">The location policy for CACHE type of read into Alluxio.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mPos">mPos</a></span></code>
<div class="block">Current position of the file instream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/file/URIStatus.html" title="class in alluxio.client.file">URIStatus</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#mStatus">mStatus</a></span></code>
<div class="block">File information.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#FileInStream-alluxio.client.file.URIStatus-alluxio.client.file.options.InStreamOptions-alluxio.client.file.FileSystemContext-">FileInStream</a></span>(<a href="../../../alluxio/client/file/URIStatus.html" title="class in alluxio.client.file">URIStatus</a>&nbsp;status,
            <a href="../../../alluxio/client/file/options/InStreamOptions.html" title="class in alluxio.client.file.options">InStreamOptions</a>&nbsp;options,
            <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a>&nbsp;context)</code>
<div class="block">Creates a new file input stream.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../alluxio/client/file/FileInStream.html" title="class in alluxio.client.file">FileInStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#create-alluxio.client.file.URIStatus-alluxio.client.file.options.InStreamOptions-alluxio.client.file.FileSystemContext-">create</a></span>(<a href="../../../alluxio/client/file/URIStatus.html" title="class in alluxio.client.file">URIStatus</a>&nbsp;status,
      <a href="../../../alluxio/client/file/options/InStreamOptions.html" title="class in alluxio.client.file.options">InStreamOptions</a>&nbsp;options,
      <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a>&nbsp;context)</code>
<div class="block">Creates a new file input stream.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block">BlockInStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#createUnderStoreBlockInStream-long-long-java.lang.String-">createUnderStoreBlockInStream</a></span>(long&nbsp;blockStart,
                             long&nbsp;length,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Creates and returns a <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block"><code>BlockInStream</code></a> for the UFS.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#getBlockSize-long-">getBlockSize</a></span>(long&nbsp;pos)</code>
<div class="block">If we are not in the last block or if the last block is equal to the normal block size,
 return the normal block size.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#getBlockSizeAllocation-long-">getBlockSizeAllocation</a></span>(long&nbsp;pos)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../alluxio/client/block/UnderStoreBlockInStream.UnderStoreStreamFactory.html" title="interface in alluxio.client.block">UnderStoreBlockInStream.UnderStoreStreamFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#getUnderStoreStreamFactory-java.lang.String-alluxio.client.file.FileSystemContext-">getUnderStoreStreamFactory</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                          <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a>&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#maxSeekPosition--">maxSeekPosition</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#read--">read</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#read-byte:A-">read</a></span>(byte[]&nbsp;b)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#read-byte:A-int-int-">read</a></span>(byte[]&nbsp;b,
    int&nbsp;off,
    int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#remaining--">remaining</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#seek-long-">seek</a></span>(long&nbsp;pos)</code>
<div class="block">Moves the starting read position of the stream to the specified position which is relative to
 the start of the stream.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#shouldUpdateStreams-long-">shouldUpdateStreams</a></span>(long&nbsp;currentBlockId)</code>
<div class="block">Checks whether block instream and cache outstream should be updated.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../alluxio/client/file/FileInStream.html#skip-long-">skip</a></span>(long&nbsp;n)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.InputStream">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.io.<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#available--" title="class or interface in java.io">available</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#mark-int-" title="class or interface in java.io">mark</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#markSupported--" title="class or interface in java.io">markSupported</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#reset--" title="class or interface in java.io">reset</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="mAlluxioStorageType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mAlluxioStorageType</h4>
<pre>protected final&nbsp;<a href="../../../alluxio/client/AlluxioStorageType.html" title="enum in alluxio.client">AlluxioStorageType</a> mAlluxioStorageType</pre>
<div class="block">How the data should be written into Alluxio space, if at all.</div>
</li>
</ul>
<a name="mBlockSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mBlockSize</h4>
<pre>protected final&nbsp;long mBlockSize</pre>
<div class="block">Standard block size in bytes of the file, guaranteed for all but the last block.</div>
</li>
</ul>
<a name="mLocationPolicy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mLocationPolicy</h4>
<pre>protected final&nbsp;<a href="../../../alluxio/client/file/policy/FileWriteLocationPolicy.html" title="interface in alluxio.client.file.policy">FileWriteLocationPolicy</a> mLocationPolicy</pre>
<div class="block">The location policy for CACHE type of read into Alluxio.</div>
</li>
</ul>
<a name="mFileLength">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mFileLength</h4>
<pre>protected final&nbsp;long mFileLength</pre>
<div class="block">Total length of the file in bytes.</div>
</li>
</ul>
<a name="mContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mContext</h4>
<pre>protected final&nbsp;<a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a> mContext</pre>
<div class="block">File System context containing the <a href="../../../alluxio/client/file/FileSystemMasterClient.html" title="class in alluxio.client.file"><code>FileSystemMasterClient</code></a> pool.</div>
</li>
</ul>
<a name="mStatus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mStatus</h4>
<pre>protected&nbsp;<a href="../../../alluxio/client/file/URIStatus.html" title="class in alluxio.client.file">URIStatus</a> mStatus</pre>
<div class="block">File information.</div>
</li>
</ul>
<a name="mClosed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mClosed</h4>
<pre>protected&nbsp;boolean mClosed</pre>
<div class="block">If the stream is closed, this can only go from false to true.</div>
</li>
</ul>
<a name="mPos">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mPos</h4>
<pre>protected&nbsp;long mPos</pre>
<div class="block">Current position of the file instream.</div>
</li>
</ul>
<a name="mCurrentBlockInStream">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mCurrentBlockInStream</h4>
<pre>protected&nbsp;<a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block">BlockInStream</a> mCurrentBlockInStream</pre>
<div class="block">Current <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block"><code>BlockInStream</code></a> backing this stream.</div>
</li>
</ul>
<a name="mCurrentCacheStream">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mCurrentCacheStream</h4>
<pre>protected&nbsp;<a href="../../../alluxio/client/block/BufferedBlockOutStream.html" title="class in alluxio.client.block">BufferedBlockOutStream</a> mCurrentCacheStream</pre>
<div class="block">Current <a href="../../../alluxio/client/block/BufferedBlockOutStream.html" title="class in alluxio.client.block"><code>BufferedBlockOutStream</code></a> writing the data into Alluxio.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileInStream-alluxio.client.file.URIStatus-alluxio.client.file.options.InStreamOptions-alluxio.client.file.FileSystemContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileInStream</h4>
<pre>protected&nbsp;FileInStream(<a href="../../../alluxio/client/file/URIStatus.html" title="class in alluxio.client.file">URIStatus</a>&nbsp;status,
                       <a href="../../../alluxio/client/file/options/InStreamOptions.html" title="class in alluxio.client.file.options">InStreamOptions</a>&nbsp;options,
                       <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a>&nbsp;context)</pre>
<div class="block">Creates a new file input stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - the file status</dd>
<dd><code>options</code> - the client options</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="create-alluxio.client.file.URIStatus-alluxio.client.file.options.InStreamOptions-alluxio.client.file.FileSystemContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../alluxio/client/file/FileInStream.html" title="class in alluxio.client.file">FileInStream</a>&nbsp;create(<a href="../../../alluxio/client/file/URIStatus.html" title="class in alluxio.client.file">URIStatus</a>&nbsp;status,
                                  <a href="../../../alluxio/client/file/options/InStreamOptions.html" title="class in alluxio.client.file.options">InStreamOptions</a>&nbsp;options,
                                  <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a>&nbsp;context)</pre>
<div class="block">Creates a new file input stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>status</code> - the file status</dd>
<dd><code>options</code> - the client options</dd>
<dd><code>context</code> - file system context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the created <a href="../../../alluxio/client/file/FileInStream.html" title="class in alluxio.client.file"><code>FileInStream</code></a> instance</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#close--" title="class or interface in java.io">close</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="read--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read()
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#read--" title="class or interface in java.io">read</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="read-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(byte[]&nbsp;b)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#read-byte:A-" title="class or interface in java.io">read</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="read-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;int&nbsp;read(byte[]&nbsp;b,
                int&nbsp;off,
                int&nbsp;len)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#read-byte:A-int-int-" title="class or interface in java.io">read</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="remaining--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remaining</h4>
<pre>public&nbsp;long&nbsp;remaining()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../alluxio/client/BoundedStream.html#remaining--">remaining</a></code>&nbsp;in interface&nbsp;<code><a href="../../../alluxio/client/BoundedStream.html" title="interface in alluxio.client">BoundedStream</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the remaining number of bytes left in the stream, starting at the current position</dd>
</dl>
</li>
</ul>
<a name="seek-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seek</h4>
<pre>public&nbsp;void&nbsp;seek(long&nbsp;pos)
          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../alluxio/client/Seekable.html#seek-long-">Seekable</a></code></span></div>
<div class="block">Moves the starting read position of the stream to the specified position which is relative to
 the start of the stream. Seeking to a position before the current read position is supported.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../alluxio/client/Seekable.html#seek-long-">seek</a></code>&nbsp;in interface&nbsp;<code><a href="../../../alluxio/client/Seekable.html" title="interface in alluxio.client">Seekable</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position to seek to, it must be between 0 and the end of the stream - 1</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the seek fails due to an error accessing the stream at the position</dd>
</dl>
</li>
</ul>
<a name="skip-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skip</h4>
<pre>public&nbsp;long&nbsp;skip(long&nbsp;n)
          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true#skip-long-" title="class or interface in java.io">skip</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="maxSeekPosition--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxSeekPosition</h4>
<pre>protected&nbsp;long&nbsp;maxSeekPosition()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum position to seek to</dd>
</dl>
</li>
</ul>
<a name="getBlockSizeAllocation-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockSizeAllocation</h4>
<pre>protected&nbsp;long&nbsp;getBlockSizeAllocation(long&nbsp;pos)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the block size in bytes for the given pos, used for worker allocation</dd>
</dl>
</li>
</ul>
<a name="createUnderStoreBlockInStream-long-long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createUnderStoreBlockInStream</h4>
<pre>protected&nbsp;<a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block">BlockInStream</a>&nbsp;createUnderStoreBlockInStream(long&nbsp;blockStart,
                                                      long&nbsp;length,
                                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)
                                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates and returns a <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block"><code>BlockInStream</code></a> for the UFS.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockStart</code> - the offset to start the block from</dd>
<dd><code>length</code> - the length of the block</dd>
<dd><code>path</code> - the UFS path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../alluxio/client/block/BlockInStream.html" title="class in alluxio.client.block"><code>BlockInStream</code></a> for the UFS</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the stream cannot be created</dd>
</dl>
</li>
</ul>
<a name="getUnderStoreStreamFactory-java.lang.String-alluxio.client.file.FileSystemContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnderStoreStreamFactory</h4>
<pre>protected&nbsp;<a href="../../../alluxio/client/block/UnderStoreBlockInStream.UnderStoreStreamFactory.html" title="interface in alluxio.client.block">UnderStoreBlockInStream.UnderStoreStreamFactory</a>&nbsp;getUnderStoreStreamFactory(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                                                                                     <a href="../../../alluxio/client/file/FileSystemContext.html" title="enum in alluxio.client.file">FileSystemContext</a>&nbsp;context)
                                                                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getBlockSize-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockSize</h4>
<pre>protected&nbsp;long&nbsp;getBlockSize(long&nbsp;pos)</pre>
<div class="block">If we are not in the last block or if the last block is equal to the normal block size,
 return the normal block size. Otherwise return the block size of the last block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pos</code> - the position to get the block size for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the block that covers pos</dd>
</dl>
</li>
</ul>
<a name="shouldUpdateStreams-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shouldUpdateStreams</h4>
<pre>protected&nbsp;boolean&nbsp;shouldUpdateStreams(long&nbsp;currentBlockId)</pre>
<div class="block">Checks whether block instream and cache outstream should be updated.
 This function is only called by <a href="../../../alluxio/client/file/FileInStream.html#updateStreams--"><code>updateStreams()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentBlockId</code> - cached result of <a href="../../../alluxio/client/file/FileInStream.html#getCurrentBlockId--"><code>getCurrentBlockId()</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the block stream should be updated</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FileInStream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../alluxio/client/file/DirectUnderStoreStreamFactory.html" title="class in alluxio.client.file"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../alluxio/client/file/FileOutStream.html" title="class in alluxio.client.file"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?alluxio/client/file/FileInStream.html" target="_top">Frames</a></li>
<li><a href="FileInStream.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017. All Rights Reserved.</small></p>
</body>
</html>
